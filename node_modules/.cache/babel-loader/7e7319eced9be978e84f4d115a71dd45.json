{"ast":null,"code":"function painterSortStable(a, b) {\n  if (a.groupOrder !== b.groupOrder) {\n    return a.groupOrder - b.groupOrder;\n  } else if (a.renderOrder !== b.renderOrder) {\n    return a.renderOrder - b.renderOrder;\n  } else if (a.program !== b.program) {\n    return a.program.id - b.program.id;\n  } else if (a.material.id !== b.material.id) {\n    return a.material.id - b.material.id;\n  } else if (a.z !== b.z) {\n    return a.z - b.z;\n  } else {\n    return a.id - b.id;\n  }\n}\n\nfunction reversePainterSortStable(a, b) {\n  if (a.groupOrder !== b.groupOrder) {\n    return a.groupOrder - b.groupOrder;\n  } else if (a.renderOrder !== b.renderOrder) {\n    return a.renderOrder - b.renderOrder;\n  } else if (a.z !== b.z) {\n    return b.z - a.z;\n  } else {\n    return a.id - b.id;\n  }\n}\n\nfunction WebGLRenderList(properties) {\n  var renderItems = [];\n  var renderItemsIndex = 0;\n  var opaque = [];\n  var transparent = [];\n  var defaultProgram = {\n    id: -1\n  };\n\n  function init() {\n    renderItemsIndex = 0;\n    opaque.length = 0;\n    transparent.length = 0;\n  }\n\n  function getNextRenderItem(object, geometry, material, groupOrder, z, group) {\n    var renderItem = renderItems[renderItemsIndex];\n    var materialProperties = properties.get(material);\n\n    if (renderItem === undefined) {\n      renderItem = {\n        id: object.id,\n        object: object,\n        geometry: geometry,\n        material: material,\n        program: materialProperties.program || defaultProgram,\n        groupOrder: groupOrder,\n        renderOrder: object.renderOrder,\n        z: z,\n        group: group\n      };\n      renderItems[renderItemsIndex] = renderItem;\n    } else {\n      renderItem.id = object.id;\n      renderItem.object = object;\n      renderItem.geometry = geometry;\n      renderItem.material = material;\n      renderItem.program = materialProperties.program || defaultProgram;\n      renderItem.groupOrder = groupOrder;\n      renderItem.renderOrder = object.renderOrder;\n      renderItem.z = z;\n      renderItem.group = group;\n    }\n\n    renderItemsIndex++;\n    return renderItem;\n  }\n\n  function push(object, geometry, material, groupOrder, z, group) {\n    var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n    (material.transparent === true ? transparent : opaque).push(renderItem);\n  }\n\n  function unshift(object, geometry, material, groupOrder, z, group) {\n    var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n    (material.transparent === true ? transparent : opaque).unshift(renderItem);\n  }\n\n  function sort(customOpaqueSort, customTransparentSort) {\n    if (opaque.length > 1) opaque.sort(customOpaqueSort || painterSortStable);\n    if (transparent.length > 1) transparent.sort(customTransparentSort || reversePainterSortStable);\n  }\n\n  function finish() {\n    // Clear references from inactive renderItems in the list\n    for (var i = renderItemsIndex, il = renderItems.length; i < il; i++) {\n      var renderItem = renderItems[i];\n      if (renderItem.id === null) break;\n      renderItem.id = null;\n      renderItem.object = null;\n      renderItem.geometry = null;\n      renderItem.material = null;\n      renderItem.program = null;\n      renderItem.group = null;\n    }\n  }\n\n  return {\n    opaque: opaque,\n    transparent: transparent,\n    init: init,\n    push: push,\n    unshift: unshift,\n    finish: finish,\n    sort: sort\n  };\n}\n\nfunction WebGLRenderLists(properties) {\n  var lists = new WeakMap();\n\n  function get(scene, camera) {\n    var cameras = lists.get(scene);\n    var list;\n\n    if (cameras === undefined) {\n      list = new WebGLRenderList(properties);\n      lists.set(scene, new WeakMap());\n      lists.get(scene).set(camera, list);\n    } else {\n      list = cameras.get(camera);\n\n      if (list === undefined) {\n        list = new WebGLRenderList(properties);\n        cameras.set(camera, list);\n      }\n    }\n\n    return list;\n  }\n\n  function dispose() {\n    lists = new WeakMap();\n  }\n\n  return {\n    get: get,\n    dispose: dispose\n  };\n}\n\nexport { WebGLRenderLists, WebGLRenderList };","map":{"version":3,"sources":["/Users/sebringrose/Projects/theEmpire/website/client/node_modules/three/src/renderers/webgl/WebGLRenderLists.js"],"names":["painterSortStable","a","b","groupOrder","renderOrder","program","id","material","z","reversePainterSortStable","WebGLRenderList","properties","renderItems","renderItemsIndex","opaque","transparent","defaultProgram","init","length","getNextRenderItem","object","geometry","group","renderItem","materialProperties","get","undefined","push","unshift","sort","customOpaqueSort","customTransparentSort","finish","i","il","WebGLRenderLists","lists","WeakMap","scene","camera","cameras","list","set","dispose"],"mappings":"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","sourcesContent":["function painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList( properties ) {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transparent = [];\n\n\tconst defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: materialProperties.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = materialProperties.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists( properties ) {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, camera ) {\n\n\t\tconst cameras = lists.get( scene );\n\t\tlet list;\n\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList( properties );\n\t\t\tlists.set( scene, new WeakMap() );\n\t\t\tlists.get( scene ).set( camera, list );\n\n\t\t} else {\n\n\t\t\tlist = cameras.get( camera );\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList( properties );\n\t\t\t\tcameras.set( camera, list );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n\nexport { WebGLRenderLists, WebGLRenderList };\n"]},"metadata":{},"sourceType":"module"}