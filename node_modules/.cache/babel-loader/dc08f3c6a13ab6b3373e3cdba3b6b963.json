{"ast":null,"code":"import { Vector3 } from '../math/Vector3.js';\nimport { BufferAttribute } from './BufferAttribute.js';\n\nvar _vector = new Vector3();\n\nfunction InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, normalized) {\n  this.name = '';\n  this.data = interleavedBuffer;\n  this.itemSize = itemSize;\n  this.offset = offset;\n  this.normalized = normalized === true;\n}\n\nObject.defineProperties(InterleavedBufferAttribute.prototype, {\n  count: {\n    get: function get() {\n      return this.data.count;\n    }\n  },\n  array: {\n    get: function get() {\n      return this.data.array;\n    }\n  },\n  needsUpdate: {\n    set: function set(value) {\n      this.data.needsUpdate = value;\n    }\n  }\n});\nObject.assign(InterleavedBufferAttribute.prototype, {\n  isInterleavedBufferAttribute: true,\n  applyMatrix4: function applyMatrix4(m) {\n    for (var i = 0, l = this.data.count; i < l; i++) {\n      _vector.x = this.getX(i);\n      _vector.y = this.getY(i);\n      _vector.z = this.getZ(i);\n\n      _vector.applyMatrix4(m);\n\n      this.setXYZ(i, _vector.x, _vector.y, _vector.z);\n    }\n\n    return this;\n  },\n  setX: function setX(index, x) {\n    this.data.array[index * this.data.stride + this.offset] = x;\n    return this;\n  },\n  setY: function setY(index, y) {\n    this.data.array[index * this.data.stride + this.offset + 1] = y;\n    return this;\n  },\n  setZ: function setZ(index, z) {\n    this.data.array[index * this.data.stride + this.offset + 2] = z;\n    return this;\n  },\n  setW: function setW(index, w) {\n    this.data.array[index * this.data.stride + this.offset + 3] = w;\n    return this;\n  },\n  getX: function getX(index) {\n    return this.data.array[index * this.data.stride + this.offset];\n  },\n  getY: function getY(index) {\n    return this.data.array[index * this.data.stride + this.offset + 1];\n  },\n  getZ: function getZ(index) {\n    return this.data.array[index * this.data.stride + this.offset + 2];\n  },\n  getW: function getW(index) {\n    return this.data.array[index * this.data.stride + this.offset + 3];\n  },\n  setXY: function setXY(index, x, y) {\n    index = index * this.data.stride + this.offset;\n    this.data.array[index + 0] = x;\n    this.data.array[index + 1] = y;\n    return this;\n  },\n  setXYZ: function setXYZ(index, x, y, z) {\n    index = index * this.data.stride + this.offset;\n    this.data.array[index + 0] = x;\n    this.data.array[index + 1] = y;\n    this.data.array[index + 2] = z;\n    return this;\n  },\n  setXYZW: function setXYZW(index, x, y, z, w) {\n    index = index * this.data.stride + this.offset;\n    this.data.array[index + 0] = x;\n    this.data.array[index + 1] = y;\n    this.data.array[index + 2] = z;\n    this.data.array[index + 3] = w;\n    return this;\n  },\n  clone: function clone(data) {\n    if (data === undefined) {\n      console.log('THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.');\n      var array = [];\n\n      for (var i = 0; i < this.count; i++) {\n        var index = i * this.data.stride + this.offset;\n\n        for (var j = 0; j < this.itemSize; j++) {\n          array.push(this.data.array[index + j]);\n        }\n      }\n\n      return new BufferAttribute(new this.array.constructor(array), this.itemSize, this.normalized);\n    } else {\n      if (data.interleavedBuffers === undefined) {\n        data.interleavedBuffers = {};\n      }\n\n      if (data.interleavedBuffers[this.data.uuid] === undefined) {\n        data.interleavedBuffers[this.data.uuid] = this.data.clone(data);\n      }\n\n      return new InterleavedBufferAttribute(data.interleavedBuffers[this.data.uuid], this.itemSize, this.offset, this.normalized);\n    }\n  },\n  toJSON: function toJSON(data) {\n    if (data === undefined) {\n      console.log('THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.');\n      var array = [];\n\n      for (var i = 0; i < this.count; i++) {\n        var index = i * this.data.stride + this.offset;\n\n        for (var j = 0; j < this.itemSize; j++) {\n          array.push(this.data.array[index + j]);\n        }\n      } // deinterleave data and save it as an ordinary buffer attribute for now\n\n\n      return {\n        itemSize: this.itemSize,\n        type: this.array.constructor.name,\n        array: array,\n        normalized: this.normalized\n      };\n    } else {\n      // save as true interlaved attribtue\n      if (data.interleavedBuffers === undefined) {\n        data.interleavedBuffers = {};\n      }\n\n      if (data.interleavedBuffers[this.data.uuid] === undefined) {\n        data.interleavedBuffers[this.data.uuid] = this.data.toJSON(data);\n      }\n\n      return {\n        isInterleavedBufferAttribute: true,\n        itemSize: this.itemSize,\n        data: this.data.uuid,\n        offset: this.offset,\n        normalized: this.normalized\n      };\n    }\n  }\n});\nexport { InterleavedBufferAttribute };","map":{"version":3,"sources":["/Users/sebringrose/Projects/theEmpire/website/client/node_modules/three/src/core/InterleavedBufferAttribute.js"],"names":["Vector3","BufferAttribute","_vector","InterleavedBufferAttribute","interleavedBuffer","itemSize","offset","normalized","name","data","Object","defineProperties","prototype","count","get","array","needsUpdate","set","value","assign","isInterleavedBufferAttribute","applyMatrix4","m","i","l","x","getX","y","getY","z","getZ","setXYZ","setX","index","stride","setY","setZ","setW","w","getW","setXY","setXYZW","clone","undefined","console","log","j","push","constructor","interleavedBuffers","uuid","toJSON","type"],"mappings":"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","sourcesContent":["import { Vector3 } from '../math/Vector3.js';\nimport { BufferAttribute } from './BufferAttribute.js';\n\nconst _vector = new Vector3();\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.name = '';\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t},\n\n\tneedsUpdate: {\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.data.needsUpdate = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector.x = this.getX( i );\n\t\t\t_vector.y = this.getY( i );\n\t\t\t_vector.z = this.getZ( i );\n\n\t\t\t_vector.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function ( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interlaved attribtue\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n} );\n\n\nexport { InterleavedBufferAttribute };\n"]},"metadata":{},"sourceType":"module"}