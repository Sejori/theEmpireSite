{"ast":null,"code":"import { Line } from '../objects/Line.js';\nimport { Mesh } from '../objects/Mesh.js';\nimport { LineBasicMaterial } from '../materials/LineBasicMaterial.js';\nimport { MeshBasicMaterial } from '../materials/MeshBasicMaterial.js';\nimport { Float32BufferAttribute } from '../core/BufferAttribute.js';\nimport { BufferGeometry } from '../core/BufferGeometry.js';\nimport { FrontSide, BackSide } from '../constants.js';\n\nclass PlaneHelper extends Line {\n  constructor(plane, size, hex) {\n    var color = hex !== undefined ? hex : 0xffff00;\n    var positions = [1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0];\n    var geometry = new BufferGeometry();\n    geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n    geometry.computeBoundingSphere();\n    super(geometry, new LineBasicMaterial({\n      color: color,\n      toneMapped: false\n    }));\n    this.type = 'PlaneHelper';\n    this.plane = plane;\n    this.size = size === undefined ? 1 : size;\n    var positions2 = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1];\n    var geometry2 = new BufferGeometry();\n    geometry2.setAttribute('position', new Float32BufferAttribute(positions2, 3));\n    geometry2.computeBoundingSphere();\n    this.add(new Mesh(geometry2, new MeshBasicMaterial({\n      color: color,\n      opacity: 0.2,\n      transparent: true,\n      depthWrite: false,\n      toneMapped: false\n    })));\n  }\n\n  updateMatrixWorld(force) {\n    var scale = -this.plane.constant;\n    if (Math.abs(scale) < 1e-8) scale = 1e-8; // sign does not matter\n\n    this.scale.set(0.5 * this.size, 0.5 * this.size, scale);\n    this.children[0].material.side = scale < 0 ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n    this.lookAt(this.plane.normal);\n    super.updateMatrixWorld(force);\n  }\n\n}\n\nexport { PlaneHelper };","map":{"version":3,"sources":["/Users/sebringrose/Projects/theEmpire/website/client/node_modules/three/src/helpers/PlaneHelper.js"],"names":["Line","Mesh","LineBasicMaterial","MeshBasicMaterial","Float32BufferAttribute","BufferGeometry","FrontSide","BackSide","PlaneHelper","constructor","plane","size","hex","color","undefined","positions","geometry","setAttribute","computeBoundingSphere","toneMapped","type","positions2","geometry2","add","opacity","transparent","depthWrite","updateMatrixWorld","force","scale","constant","Math","abs","set","children","material","side","lookAt","normal"],"mappings":"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","sourcesContent":["import { Line } from '../objects/Line.js';\nimport { Mesh } from '../objects/Mesh.js';\nimport { LineBasicMaterial } from '../materials/LineBasicMaterial.js';\nimport { MeshBasicMaterial } from '../materials/MeshBasicMaterial.js';\nimport { Float32BufferAttribute } from '../core/BufferAttribute.js';\nimport { BufferGeometry } from '../core/BufferGeometry.js';\nimport { FrontSide, BackSide } from '../constants.js';\n\nclass PlaneHelper extends Line {\n\n\tconstructor( plane, size, hex ) {\n\n\t\tconst color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\t\tconst positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.type = 'PlaneHelper';\n\n\t\tthis.plane = plane;\n\n\t\tthis.size = ( size === undefined ) ? 1 : size;\n\n\t\tconst positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tlet scale = - this.plane.constant;\n\n\t\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\t\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\t\tthis.lookAt( this.plane.normal );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nexport { PlaneHelper };\n"]},"metadata":{},"sourceType":"module"}