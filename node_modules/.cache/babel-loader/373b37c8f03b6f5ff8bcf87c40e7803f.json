{"ast":null,"code":"import { Vector3 } from './Vector3.js';\n\nclass Matrix4 {\n  constructor() {\n    Object.defineProperty(this, 'isMatrix4', {\n      value: true\n    });\n    this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\n    if (arguments.length > 0) {\n      console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');\n    }\n  }\n\n  set(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n    var te = this.elements;\n    te[0] = n11;\n    te[4] = n12;\n    te[8] = n13;\n    te[12] = n14;\n    te[1] = n21;\n    te[5] = n22;\n    te[9] = n23;\n    te[13] = n24;\n    te[2] = n31;\n    te[6] = n32;\n    te[10] = n33;\n    te[14] = n34;\n    te[3] = n41;\n    te[7] = n42;\n    te[11] = n43;\n    te[15] = n44;\n    return this;\n  }\n\n  identity() {\n    this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    return this;\n  }\n\n  clone() {\n    return new Matrix4().fromArray(this.elements);\n  }\n\n  copy(m) {\n    var te = this.elements;\n    var me = m.elements;\n    te[0] = me[0];\n    te[1] = me[1];\n    te[2] = me[2];\n    te[3] = me[3];\n    te[4] = me[4];\n    te[5] = me[5];\n    te[6] = me[6];\n    te[7] = me[7];\n    te[8] = me[8];\n    te[9] = me[9];\n    te[10] = me[10];\n    te[11] = me[11];\n    te[12] = me[12];\n    te[13] = me[13];\n    te[14] = me[14];\n    te[15] = me[15];\n    return this;\n  }\n\n  copyPosition(m) {\n    var te = this.elements,\n        me = m.elements;\n    te[12] = me[12];\n    te[13] = me[13];\n    te[14] = me[14];\n    return this;\n  }\n\n  extractBasis(xAxis, yAxis, zAxis) {\n    xAxis.setFromMatrixColumn(this, 0);\n    yAxis.setFromMatrixColumn(this, 1);\n    zAxis.setFromMatrixColumn(this, 2);\n    return this;\n  }\n\n  makeBasis(xAxis, yAxis, zAxis) {\n    this.set(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, 0, 0, 0, 1);\n    return this;\n  }\n\n  extractRotation(m) {\n    // this method does not support reflection matrices\n    var te = this.elements;\n    var me = m.elements;\n\n    var scaleX = 1 / _v1.setFromMatrixColumn(m, 0).length();\n\n    var scaleY = 1 / _v1.setFromMatrixColumn(m, 1).length();\n\n    var scaleZ = 1 / _v1.setFromMatrixColumn(m, 2).length();\n\n    te[0] = me[0] * scaleX;\n    te[1] = me[1] * scaleX;\n    te[2] = me[2] * scaleX;\n    te[3] = 0;\n    te[4] = me[4] * scaleY;\n    te[5] = me[5] * scaleY;\n    te[6] = me[6] * scaleY;\n    te[7] = 0;\n    te[8] = me[8] * scaleZ;\n    te[9] = me[9] * scaleZ;\n    te[10] = me[10] * scaleZ;\n    te[11] = 0;\n    te[12] = 0;\n    te[13] = 0;\n    te[14] = 0;\n    te[15] = 1;\n    return this;\n  }\n\n  makeRotationFromEuler(euler) {\n    if (!(euler && euler.isEuler)) {\n      console.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');\n    }\n\n    var te = this.elements;\n    var x = euler.x,\n        y = euler.y,\n        z = euler.z;\n    var a = Math.cos(x),\n        b = Math.sin(x);\n    var c = Math.cos(y),\n        d = Math.sin(y);\n    var e = Math.cos(z),\n        f = Math.sin(z);\n\n    if (euler.order === 'XYZ') {\n      var ae = a * e,\n          af = a * f,\n          be = b * e,\n          bf = b * f;\n      te[0] = c * e;\n      te[4] = -c * f;\n      te[8] = d;\n      te[1] = af + be * d;\n      te[5] = ae - bf * d;\n      te[9] = -b * c;\n      te[2] = bf - ae * d;\n      te[6] = be + af * d;\n      te[10] = a * c;\n    } else if (euler.order === 'YXZ') {\n      var ce = c * e,\n          cf = c * f,\n          de = d * e,\n          df = d * f;\n      te[0] = ce + df * b;\n      te[4] = de * b - cf;\n      te[8] = a * d;\n      te[1] = a * f;\n      te[5] = a * e;\n      te[9] = -b;\n      te[2] = cf * b - de;\n      te[6] = df + ce * b;\n      te[10] = a * c;\n    } else if (euler.order === 'ZXY') {\n      var _ce = c * e,\n          _cf = c * f,\n          _de = d * e,\n          _df = d * f;\n\n      te[0] = _ce - _df * b;\n      te[4] = -a * f;\n      te[8] = _de + _cf * b;\n      te[1] = _cf + _de * b;\n      te[5] = a * e;\n      te[9] = _df - _ce * b;\n      te[2] = -a * d;\n      te[6] = b;\n      te[10] = a * c;\n    } else if (euler.order === 'ZYX') {\n      var _ae = a * e,\n          _af = a * f,\n          _be = b * e,\n          _bf = b * f;\n\n      te[0] = c * e;\n      te[4] = _be * d - _af;\n      te[8] = _ae * d + _bf;\n      te[1] = c * f;\n      te[5] = _bf * d + _ae;\n      te[9] = _af * d - _be;\n      te[2] = -d;\n      te[6] = b * c;\n      te[10] = a * c;\n    } else if (euler.order === 'YZX') {\n      var ac = a * c,\n          ad = a * d,\n          bc = b * c,\n          bd = b * d;\n      te[0] = c * e;\n      te[4] = bd - ac * f;\n      te[8] = bc * f + ad;\n      te[1] = f;\n      te[5] = a * e;\n      te[9] = -b * e;\n      te[2] = -d * e;\n      te[6] = ad * f + bc;\n      te[10] = ac - bd * f;\n    } else if (euler.order === 'XZY') {\n      var _ac = a * c,\n          _ad = a * d,\n          _bc = b * c,\n          _bd = b * d;\n\n      te[0] = c * e;\n      te[4] = -f;\n      te[8] = d * e;\n      te[1] = _ac * f + _bd;\n      te[5] = a * e;\n      te[9] = _ad * f - _bc;\n      te[2] = _bc * f - _ad;\n      te[6] = b * e;\n      te[10] = _bd * f + _ac;\n    } // bottom row\n\n\n    te[3] = 0;\n    te[7] = 0;\n    te[11] = 0; // last column\n\n    te[12] = 0;\n    te[13] = 0;\n    te[14] = 0;\n    te[15] = 1;\n    return this;\n  }\n\n  makeRotationFromQuaternion(q) {\n    return this.compose(_zero, q, _one);\n  }\n\n  lookAt(eye, target, up) {\n    var te = this.elements;\n\n    _z.subVectors(eye, target);\n\n    if (_z.lengthSq() === 0) {\n      // eye and target are in the same position\n      _z.z = 1;\n    }\n\n    _z.normalize();\n\n    _x.crossVectors(up, _z);\n\n    if (_x.lengthSq() === 0) {\n      // up and z are parallel\n      if (Math.abs(up.z) === 1) {\n        _z.x += 0.0001;\n      } else {\n        _z.z += 0.0001;\n      }\n\n      _z.normalize();\n\n      _x.crossVectors(up, _z);\n    }\n\n    _x.normalize();\n\n    _y.crossVectors(_z, _x);\n\n    te[0] = _x.x;\n    te[4] = _y.x;\n    te[8] = _z.x;\n    te[1] = _x.y;\n    te[5] = _y.y;\n    te[9] = _z.y;\n    te[2] = _x.z;\n    te[6] = _y.z;\n    te[10] = _z.z;\n    return this;\n  }\n\n  multiply(m, n) {\n    if (n !== undefined) {\n      console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');\n      return this.multiplyMatrices(m, n);\n    }\n\n    return this.multiplyMatrices(this, m);\n  }\n\n  premultiply(m) {\n    return this.multiplyMatrices(m, this);\n  }\n\n  multiplyMatrices(a, b) {\n    var ae = a.elements;\n    var be = b.elements;\n    var te = this.elements;\n    var a11 = ae[0],\n        a12 = ae[4],\n        a13 = ae[8],\n        a14 = ae[12];\n    var a21 = ae[1],\n        a22 = ae[5],\n        a23 = ae[9],\n        a24 = ae[13];\n    var a31 = ae[2],\n        a32 = ae[6],\n        a33 = ae[10],\n        a34 = ae[14];\n    var a41 = ae[3],\n        a42 = ae[7],\n        a43 = ae[11],\n        a44 = ae[15];\n    var b11 = be[0],\n        b12 = be[4],\n        b13 = be[8],\n        b14 = be[12];\n    var b21 = be[1],\n        b22 = be[5],\n        b23 = be[9],\n        b24 = be[13];\n    var b31 = be[2],\n        b32 = be[6],\n        b33 = be[10],\n        b34 = be[14];\n    var b41 = be[3],\n        b42 = be[7],\n        b43 = be[11],\n        b44 = be[15];\n    te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n    te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n    te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n    te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n    te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n    te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n    te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n    te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n    te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n    te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n    te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n    te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n    te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n    te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n    te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n    te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n    return this;\n  }\n\n  multiplyScalar(s) {\n    var te = this.elements;\n    te[0] *= s;\n    te[4] *= s;\n    te[8] *= s;\n    te[12] *= s;\n    te[1] *= s;\n    te[5] *= s;\n    te[9] *= s;\n    te[13] *= s;\n    te[2] *= s;\n    te[6] *= s;\n    te[10] *= s;\n    te[14] *= s;\n    te[3] *= s;\n    te[7] *= s;\n    te[11] *= s;\n    te[15] *= s;\n    return this;\n  }\n\n  determinant() {\n    var te = this.elements;\n    var n11 = te[0],\n        n12 = te[4],\n        n13 = te[8],\n        n14 = te[12];\n    var n21 = te[1],\n        n22 = te[5],\n        n23 = te[9],\n        n24 = te[13];\n    var n31 = te[2],\n        n32 = te[6],\n        n33 = te[10],\n        n34 = te[14];\n    var n41 = te[3],\n        n42 = te[7],\n        n43 = te[11],\n        n44 = te[15]; //TODO: make this more efficient\n    //( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n    return n41 * (+n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34) + n42 * (+n11 * n23 * n34 - n11 * n24 * n33 + n14 * n21 * n33 - n13 * n21 * n34 + n13 * n24 * n31 - n14 * n23 * n31) + n43 * (+n11 * n24 * n32 - n11 * n22 * n34 - n14 * n21 * n32 + n12 * n21 * n34 + n14 * n22 * n31 - n12 * n24 * n31) + n44 * (-n13 * n22 * n31 - n11 * n23 * n32 + n11 * n22 * n33 + n13 * n21 * n32 - n12 * n21 * n33 + n12 * n23 * n31);\n  }\n\n  transpose() {\n    var te = this.elements;\n    var tmp;\n    tmp = te[1];\n    te[1] = te[4];\n    te[4] = tmp;\n    tmp = te[2];\n    te[2] = te[8];\n    te[8] = tmp;\n    tmp = te[6];\n    te[6] = te[9];\n    te[9] = tmp;\n    tmp = te[3];\n    te[3] = te[12];\n    te[12] = tmp;\n    tmp = te[7];\n    te[7] = te[13];\n    te[13] = tmp;\n    tmp = te[11];\n    te[11] = te[14];\n    te[14] = tmp;\n    return this;\n  }\n\n  setPosition(x, y, z) {\n    var te = this.elements;\n\n    if (x.isVector3) {\n      te[12] = x.x;\n      te[13] = x.y;\n      te[14] = x.z;\n    } else {\n      te[12] = x;\n      te[13] = y;\n      te[14] = z;\n    }\n\n    return this;\n  }\n\n  getInverse(m, throwOnDegenerate) {\n    if (throwOnDegenerate !== undefined) {\n      console.warn(\"THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.\");\n    } // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\n\n    var te = this.elements,\n        me = m.elements,\n        n11 = me[0],\n        n21 = me[1],\n        n31 = me[2],\n        n41 = me[3],\n        n12 = me[4],\n        n22 = me[5],\n        n32 = me[6],\n        n42 = me[7],\n        n13 = me[8],\n        n23 = me[9],\n        n33 = me[10],\n        n43 = me[11],\n        n14 = me[12],\n        n24 = me[13],\n        n34 = me[14],\n        n44 = me[15],\n        t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n        t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n        t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n        t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n    var det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n    if (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    var detInv = 1 / det;\n    te[0] = t11 * detInv;\n    te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;\n    te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;\n    te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;\n    te[4] = t12 * detInv;\n    te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;\n    te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;\n    te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;\n    te[8] = t13 * detInv;\n    te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;\n    te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;\n    te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;\n    te[12] = t14 * detInv;\n    te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;\n    te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;\n    te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;\n    return this;\n  }\n\n  scale(v) {\n    var te = this.elements;\n    var x = v.x,\n        y = v.y,\n        z = v.z;\n    te[0] *= x;\n    te[4] *= y;\n    te[8] *= z;\n    te[1] *= x;\n    te[5] *= y;\n    te[9] *= z;\n    te[2] *= x;\n    te[6] *= y;\n    te[10] *= z;\n    te[3] *= x;\n    te[7] *= y;\n    te[11] *= z;\n    return this;\n  }\n\n  getMaxScaleOnAxis() {\n    var te = this.elements;\n    var scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n    var scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n    var scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n    return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\n  }\n\n  makeTranslation(x, y, z) {\n    this.set(1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1);\n    return this;\n  }\n\n  makeRotationX(theta) {\n    var c = Math.cos(theta),\n        s = Math.sin(theta);\n    this.set(1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1);\n    return this;\n  }\n\n  makeRotationY(theta) {\n    var c = Math.cos(theta),\n        s = Math.sin(theta);\n    this.set(c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1);\n    return this;\n  }\n\n  makeRotationZ(theta) {\n    var c = Math.cos(theta),\n        s = Math.sin(theta);\n    this.set(c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    return this;\n  }\n\n  makeRotationAxis(axis, angle) {\n    // Based on http://www.gamedev.net/reference/articles/article1199.asp\n    var c = Math.cos(angle);\n    var s = Math.sin(angle);\n    var t = 1 - c;\n    var x = axis.x,\n        y = axis.y,\n        z = axis.z;\n    var tx = t * x,\n        ty = t * y;\n    this.set(tx * x + c, tx * y - s * z, tx * z + s * y, 0, tx * y + s * z, ty * y + c, ty * z - s * x, 0, tx * z - s * y, ty * z + s * x, t * z * z + c, 0, 0, 0, 0, 1);\n    return this;\n  }\n\n  makeScale(x, y, z) {\n    this.set(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);\n    return this;\n  }\n\n  makeShear(x, y, z) {\n    this.set(1, y, z, 0, x, 1, z, 0, x, y, 1, 0, 0, 0, 0, 1);\n    return this;\n  }\n\n  compose(position, quaternion, scale) {\n    var te = this.elements;\n    var x = quaternion._x,\n        y = quaternion._y,\n        z = quaternion._z,\n        w = quaternion._w;\n    var x2 = x + x,\n        y2 = y + y,\n        z2 = z + z;\n    var xx = x * x2,\n        xy = x * y2,\n        xz = x * z2;\n    var yy = y * y2,\n        yz = y * z2,\n        zz = z * z2;\n    var wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n    var sx = scale.x,\n        sy = scale.y,\n        sz = scale.z;\n    te[0] = (1 - (yy + zz)) * sx;\n    te[1] = (xy + wz) * sx;\n    te[2] = (xz - wy) * sx;\n    te[3] = 0;\n    te[4] = (xy - wz) * sy;\n    te[5] = (1 - (xx + zz)) * sy;\n    te[6] = (yz + wx) * sy;\n    te[7] = 0;\n    te[8] = (xz + wy) * sz;\n    te[9] = (yz - wx) * sz;\n    te[10] = (1 - (xx + yy)) * sz;\n    te[11] = 0;\n    te[12] = position.x;\n    te[13] = position.y;\n    te[14] = position.z;\n    te[15] = 1;\n    return this;\n  }\n\n  decompose(position, quaternion, scale) {\n    var te = this.elements;\n\n    var sx = _v1.set(te[0], te[1], te[2]).length();\n\n    var sy = _v1.set(te[4], te[5], te[6]).length();\n\n    var sz = _v1.set(te[8], te[9], te[10]).length(); // if determine is negative, we need to invert one scale\n\n\n    var det = this.determinant();\n    if (det < 0) sx = -sx;\n    position.x = te[12];\n    position.y = te[13];\n    position.z = te[14]; // scale the rotation part\n\n    _m1.copy(this);\n\n    var invSX = 1 / sx;\n    var invSY = 1 / sy;\n    var invSZ = 1 / sz;\n    _m1.elements[0] *= invSX;\n    _m1.elements[1] *= invSX;\n    _m1.elements[2] *= invSX;\n    _m1.elements[4] *= invSY;\n    _m1.elements[5] *= invSY;\n    _m1.elements[6] *= invSY;\n    _m1.elements[8] *= invSZ;\n    _m1.elements[9] *= invSZ;\n    _m1.elements[10] *= invSZ;\n    quaternion.setFromRotationMatrix(_m1);\n    scale.x = sx;\n    scale.y = sy;\n    scale.z = sz;\n    return this;\n  }\n\n  makePerspective(left, right, top, bottom, near, far) {\n    if (far === undefined) {\n      console.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');\n    }\n\n    var te = this.elements;\n    var x = 2 * near / (right - left);\n    var y = 2 * near / (top - bottom);\n    var a = (right + left) / (right - left);\n    var b = (top + bottom) / (top - bottom);\n    var c = -(far + near) / (far - near);\n    var d = -2 * far * near / (far - near);\n    te[0] = x;\n    te[4] = 0;\n    te[8] = a;\n    te[12] = 0;\n    te[1] = 0;\n    te[5] = y;\n    te[9] = b;\n    te[13] = 0;\n    te[2] = 0;\n    te[6] = 0;\n    te[10] = c;\n    te[14] = d;\n    te[3] = 0;\n    te[7] = 0;\n    te[11] = -1;\n    te[15] = 0;\n    return this;\n  }\n\n  makeOrthographic(left, right, top, bottom, near, far) {\n    var te = this.elements;\n    var w = 1.0 / (right - left);\n    var h = 1.0 / (top - bottom);\n    var p = 1.0 / (far - near);\n    var x = (right + left) * w;\n    var y = (top + bottom) * h;\n    var z = (far + near) * p;\n    te[0] = 2 * w;\n    te[4] = 0;\n    te[8] = 0;\n    te[12] = -x;\n    te[1] = 0;\n    te[5] = 2 * h;\n    te[9] = 0;\n    te[13] = -y;\n    te[2] = 0;\n    te[6] = 0;\n    te[10] = -2 * p;\n    te[14] = -z;\n    te[3] = 0;\n    te[7] = 0;\n    te[11] = 0;\n    te[15] = 1;\n    return this;\n  }\n\n  equals(matrix) {\n    var te = this.elements;\n    var me = matrix.elements;\n\n    for (var i = 0; i < 16; i++) {\n      if (te[i] !== me[i]) return false;\n    }\n\n    return true;\n  }\n\n  fromArray(array, offset) {\n    if (offset === undefined) offset = 0;\n\n    for (var i = 0; i < 16; i++) {\n      this.elements[i] = array[i + offset];\n    }\n\n    return this;\n  }\n\n  toArray(array, offset) {\n    if (array === undefined) array = [];\n    if (offset === undefined) offset = 0;\n    var te = this.elements;\n    array[offset] = te[0];\n    array[offset + 1] = te[1];\n    array[offset + 2] = te[2];\n    array[offset + 3] = te[3];\n    array[offset + 4] = te[4];\n    array[offset + 5] = te[5];\n    array[offset + 6] = te[6];\n    array[offset + 7] = te[7];\n    array[offset + 8] = te[8];\n    array[offset + 9] = te[9];\n    array[offset + 10] = te[10];\n    array[offset + 11] = te[11];\n    array[offset + 12] = te[12];\n    array[offset + 13] = te[13];\n    array[offset + 14] = te[14];\n    array[offset + 15] = te[15];\n    return array;\n  }\n\n}\n\nvar _v1 = /*@__PURE__*/new Vector3();\n\nvar _m1 = /*@__PURE__*/new Matrix4();\n\nvar _zero = /*@__PURE__*/new Vector3(0, 0, 0);\n\nvar _one = /*@__PURE__*/new Vector3(1, 1, 1);\n\nvar _x = /*@__PURE__*/new Vector3();\n\nvar _y = /*@__PURE__*/new Vector3();\n\nvar _z = /*@__PURE__*/new Vector3();\n\nexport { Matrix4 };","map":{"version":3,"sources":["/Users/sebringrose/Projects/theEmpire/website/client/node_modules/three/src/math/Matrix4.js"],"names":["Vector3","Matrix4","constructor","Object","defineProperty","value","elements","arguments","length","console","error","set","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","te","identity","clone","fromArray","copy","m","me","copyPosition","extractBasis","xAxis","yAxis","zAxis","setFromMatrixColumn","makeBasis","x","y","z","extractRotation","scaleX","_v1","scaleY","scaleZ","makeRotationFromEuler","euler","isEuler","a","Math","cos","b","sin","c","d","e","f","order","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","q","compose","_zero","_one","lookAt","eye","target","up","_z","subVectors","lengthSq","normalize","_x","crossVectors","abs","_y","multiply","n","undefined","warn","multiplyMatrices","premultiply","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","multiplyScalar","s","determinant","transpose","tmp","setPosition","isVector3","getInverse","throwOnDegenerate","t11","t12","t13","t14","det","detInv","scale","v","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","sqrt","max","makeTranslation","makeRotationX","theta","makeRotationY","makeRotationZ","makeRotationAxis","axis","angle","t","tx","ty","makeScale","makeShear","position","quaternion","w","_w","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","sx","sy","sz","decompose","_m1","invSX","invSY","invSZ","setFromRotationMatrix","makePerspective","left","right","top","bottom","near","far","makeOrthographic","h","p","equals","matrix","i","array","offset","toArray"],"mappings":"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","sourcesContent":["import { Vector3 } from './Vector3.js';\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tObject.defineProperty( this, 'isMatrix4', { value: true } );\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetInverse( m, throwOnDegenerate ) {\n\n\t\tif ( throwOnDegenerate !== undefined ) {\n\n\t\t\tconsole.warn( \"THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.\" );\n\n\t\t}\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\n\nexport { Matrix4 };\n"]},"metadata":{},"sourceType":"module"}