{"ast":null,"code":"import { Earcut } from './Earcut.js';\nvar ShapeUtils = {\n  // calculate area of the contour polygon\n  area: function area(contour) {\n    var n = contour.length;\n    var a = 0.0;\n\n    for (var p = n - 1, q = 0; q < n; p = q++) {\n      a += contour[p].x * contour[q].y - contour[q].x * contour[p].y;\n    }\n\n    return a * 0.5;\n  },\n  isClockWise: function isClockWise(pts) {\n    return ShapeUtils.area(pts) < 0;\n  },\n  triangulateShape: function triangulateShape(contour, holes) {\n    var vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\n    var holeIndices = []; // array of hole indices\n\n    var faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n    removeDupEndPts(contour);\n    addContour(vertices, contour); //\n\n    var holeIndex = contour.length;\n    holes.forEach(removeDupEndPts);\n\n    for (var i = 0; i < holes.length; i++) {\n      holeIndices.push(holeIndex);\n      holeIndex += holes[i].length;\n      addContour(vertices, holes[i]);\n    } //\n\n\n    var triangles = Earcut.triangulate(vertices, holeIndices); //\n\n    for (var _i = 0; _i < triangles.length; _i += 3) {\n      faces.push(triangles.slice(_i, _i + 3));\n    }\n\n    return faces;\n  }\n};\n\nfunction removeDupEndPts(points) {\n  var l = points.length;\n\n  if (l > 2 && points[l - 1].equals(points[0])) {\n    points.pop();\n  }\n}\n\nfunction addContour(vertices, contour) {\n  for (var i = 0; i < contour.length; i++) {\n    vertices.push(contour[i].x);\n    vertices.push(contour[i].y);\n  }\n}\n\nexport { ShapeUtils };","map":{"version":3,"sources":["/Users/sebringrose/Projects/theEmpire/website/client/node_modules/three/src/extras/ShapeUtils.js"],"names":["Earcut","ShapeUtils","area","contour","n","length","a","p","q","x","y","isClockWise","pts","triangulateShape","holes","vertices","holeIndices","faces","removeDupEndPts","addContour","holeIndex","forEach","i","push","triangles","triangulate","slice","points","l","equals","pop"],"mappings":"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","sourcesContent":["import { Earcut } from './Earcut.js';\n\nconst ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n};\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\nexport { ShapeUtils };\n"]},"metadata":{},"sourceType":"module"}