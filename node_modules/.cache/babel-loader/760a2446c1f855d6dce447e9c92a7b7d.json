{"ast":null,"code":"import { Camera } from './Camera.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { MathUtils } from '../math/MathUtils.js';\n\nfunction PerspectiveCamera(fov, aspect, near, far) {\n  Camera.call(this);\n  this.type = 'PerspectiveCamera';\n  this.fov = fov !== undefined ? fov : 50;\n  this.zoom = 1;\n  this.near = near !== undefined ? near : 0.1;\n  this.far = far !== undefined ? far : 2000;\n  this.focus = 10;\n  this.aspect = aspect !== undefined ? aspect : 1;\n  this.view = null;\n  this.filmGauge = 35; // width of the film (default in millimeters)\n\n  this.filmOffset = 0; // horizontal film offset (same unit as gauge)\n\n  this.updateProjectionMatrix();\n}\n\nPerspectiveCamera.prototype = Object.assign(Object.create(Camera.prototype), {\n  constructor: PerspectiveCamera,\n  isPerspectiveCamera: true,\n  copy: function copy(source, recursive) {\n    Camera.prototype.copy.call(this, source, recursive);\n    this.fov = source.fov;\n    this.zoom = source.zoom;\n    this.near = source.near;\n    this.far = source.far;\n    this.focus = source.focus;\n    this.aspect = source.aspect;\n    this.view = source.view === null ? null : Object.assign({}, source.view);\n    this.filmGauge = source.filmGauge;\n    this.filmOffset = source.filmOffset;\n    return this;\n  },\n\n  /**\n   * Sets the FOV by focal length in respect to the current .filmGauge.\n   *\n   * The default film gauge is 35, so that the focal length can be specified for\n   * a 35mm (full frame) camera.\n   *\n   * Values for focal length and film gauge must have the same unit.\n   */\n  setFocalLength: function setFocalLength(focalLength) {\n    // see http://www.bobatkins.com/photography/technical/field_of_view.html\n    var vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n    this.fov = MathUtils.RAD2DEG * 2 * Math.atan(vExtentSlope);\n    this.updateProjectionMatrix();\n  },\n\n  /**\n   * Calculates the focal length from the current .fov and .filmGauge.\n   */\n  getFocalLength: function getFocalLength() {\n    var vExtentSlope = Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov);\n    return 0.5 * this.getFilmHeight() / vExtentSlope;\n  },\n  getEffectiveFOV: function getEffectiveFOV() {\n    return MathUtils.RAD2DEG * 2 * Math.atan(Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov) / this.zoom);\n  },\n  getFilmWidth: function getFilmWidth() {\n    // film not completely covered in portrait format (aspect < 1)\n    return this.filmGauge * Math.min(this.aspect, 1);\n  },\n  getFilmHeight: function getFilmHeight() {\n    // film not completely covered in landscape format (aspect > 1)\n    return this.filmGauge / Math.max(this.aspect, 1);\n  },\n\n  /**\n   * Sets an offset in a larger frustum. This is useful for multi-window or\n   * multi-monitor/multi-machine setups.\n   *\n   * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n   * the monitors are in grid like this\n   *\n   *   +---+---+---+\n   *   | A | B | C |\n   *   +---+---+---+\n   *   | D | E | F |\n   *   +---+---+---+\n   *\n   * then for each monitor you would call it like this\n   *\n   *   const w = 1920;\n   *   const h = 1080;\n   *   const fullWidth = w * 3;\n   *   const fullHeight = h * 2;\n   *\n   *   --A--\n   *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n   *   --B--\n   *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n   *   --C--\n   *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n   *   --D--\n   *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n   *   --E--\n   *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n   *   --F--\n   *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n   *\n   *   Note there is no reason monitors have to be the same size or in a grid.\n   */\n  setViewOffset: function setViewOffset(fullWidth, fullHeight, x, y, width, height) {\n    this.aspect = fullWidth / fullHeight;\n\n    if (this.view === null) {\n      this.view = {\n        enabled: true,\n        fullWidth: 1,\n        fullHeight: 1,\n        offsetX: 0,\n        offsetY: 0,\n        width: 1,\n        height: 1\n      };\n    }\n\n    this.view.enabled = true;\n    this.view.fullWidth = fullWidth;\n    this.view.fullHeight = fullHeight;\n    this.view.offsetX = x;\n    this.view.offsetY = y;\n    this.view.width = width;\n    this.view.height = height;\n    this.updateProjectionMatrix();\n  },\n  clearViewOffset: function clearViewOffset() {\n    if (this.view !== null) {\n      this.view.enabled = false;\n    }\n\n    this.updateProjectionMatrix();\n  },\n  updateProjectionMatrix: function updateProjectionMatrix() {\n    var near = this.near;\n    var top = near * Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov) / this.zoom;\n    var height = 2 * top;\n    var width = this.aspect * height;\n    var left = -0.5 * width;\n    var view = this.view;\n\n    if (this.view !== null && this.view.enabled) {\n      var fullWidth = view.fullWidth,\n          fullHeight = view.fullHeight;\n      left += view.offsetX * width / fullWidth;\n      top -= view.offsetY * height / fullHeight;\n      width *= view.width / fullWidth;\n      height *= view.height / fullHeight;\n    }\n\n    var skew = this.filmOffset;\n    if (skew !== 0) left += near * skew / this.getFilmWidth();\n    this.projectionMatrix.makePerspective(left, left + width, top, top - height, near, this.far);\n    this.projectionMatrixInverse.getInverse(this.projectionMatrix);\n  },\n  toJSON: function toJSON(meta) {\n    var data = Object3D.prototype.toJSON.call(this, meta);\n    data.object.fov = this.fov;\n    data.object.zoom = this.zoom;\n    data.object.near = this.near;\n    data.object.far = this.far;\n    data.object.focus = this.focus;\n    data.object.aspect = this.aspect;\n    if (this.view !== null) data.object.view = Object.assign({}, this.view);\n    data.object.filmGauge = this.filmGauge;\n    data.object.filmOffset = this.filmOffset;\n    return data;\n  }\n});\nexport { PerspectiveCamera };","map":{"version":3,"sources":["/Users/sebringrose/Projects/theEmpire/website/client/node_modules/three/src/cameras/PerspectiveCamera.js"],"names":["Camera","Object3D","MathUtils","PerspectiveCamera","fov","aspect","near","far","call","type","undefined","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","prototype","Object","assign","create","constructor","isPerspectiveCamera","copy","source","recursive","setFocalLength","focalLength","vExtentSlope","getFilmHeight","RAD2DEG","Math","atan","getFocalLength","tan","DEG2RAD","getEffectiveFOV","getFilmWidth","min","max","setViewOffset","fullWidth","fullHeight","x","y","width","height","enabled","offsetX","offsetY","clearViewOffset","top","left","skew","projectionMatrix","makePerspective","projectionMatrixInverse","getInverse","toJSON","meta","data","object"],"mappings":"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","sourcesContent":["import { Camera } from './Camera.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { MathUtils } from '../math/MathUtils.js';\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = MathUtils.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tconst vExtentSlope = Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn MathUtils.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n\nexport { PerspectiveCamera };\n"]},"metadata":{},"sourceType":"module"}