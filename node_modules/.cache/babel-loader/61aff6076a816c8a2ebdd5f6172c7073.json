{"ast":null,"code":"import { Float32BufferAttribute } from '../core/BufferAttribute.js';\nimport { BufferGeometry } from '../core/BufferGeometry.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { CylinderBufferGeometry } from '../geometries/CylinderBufferGeometry.js';\nimport { MeshBasicMaterial } from '../materials/MeshBasicMaterial.js';\nimport { LineBasicMaterial } from '../materials/LineBasicMaterial.js';\nimport { Mesh } from '../objects/Mesh.js';\nimport { Line } from '../objects/Line.js';\nimport { Vector3 } from '../math/Vector3.js';\n\nvar _axis = /*@__PURE__*/new Vector3();\n\nvar _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n  constructor(dir, origin, length, color, headLength, headWidth) {\n    super(); // dir is assumed to be normalized\n\n    this.type = 'ArrowHelper';\n    if (dir === undefined) dir = new Vector3(0, 0, 1);\n    if (origin === undefined) origin = new Vector3(0, 0, 0);\n    if (length === undefined) length = 1;\n    if (color === undefined) color = 0xffff00;\n    if (headLength === undefined) headLength = 0.2 * length;\n    if (headWidth === undefined) headWidth = 0.2 * headLength;\n\n    if (_lineGeometry === undefined) {\n      _lineGeometry = new BufferGeometry();\n\n      _lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n      _coneGeometry = new CylinderBufferGeometry(0, 0.5, 1, 5, 1);\n\n      _coneGeometry.translate(0, -0.5, 0);\n    }\n\n    this.position.copy(origin);\n    this.line = new Line(_lineGeometry, new LineBasicMaterial({\n      color: color,\n      toneMapped: false\n    }));\n    this.line.matrixAutoUpdate = false;\n    this.add(this.line);\n    this.cone = new Mesh(_coneGeometry, new MeshBasicMaterial({\n      color: color,\n      toneMapped: false\n    }));\n    this.cone.matrixAutoUpdate = false;\n    this.add(this.cone);\n    this.setDirection(dir);\n    this.setLength(length, headLength, headWidth);\n  }\n\n  setDirection(dir) {\n    // dir is assumed to be normalized\n    if (dir.y > 0.99999) {\n      this.quaternion.set(0, 0, 0, 1);\n    } else if (dir.y < -0.99999) {\n      this.quaternion.set(1, 0, 0, 0);\n    } else {\n      _axis.set(dir.z, 0, -dir.x).normalize();\n\n      var radians = Math.acos(dir.y);\n      this.quaternion.setFromAxisAngle(_axis, radians);\n    }\n  }\n\n  setLength(length, headLength, headWidth) {\n    if (headLength === undefined) headLength = 0.2 * length;\n    if (headWidth === undefined) headWidth = 0.2 * headLength;\n    this.line.scale.set(1, Math.max(0.0001, length - headLength), 1); // see #17458\n\n    this.line.updateMatrix();\n    this.cone.scale.set(headWidth, headLength, headWidth);\n    this.cone.position.y = length;\n    this.cone.updateMatrix();\n  }\n\n  setColor(color) {\n    this.line.material.color.set(color);\n    this.cone.material.color.set(color);\n  }\n\n  copy(source) {\n    super.copy(source, false);\n    this.line.copy(source.line);\n    this.cone.copy(source.cone);\n    return this;\n  }\n\n}\n\nexport { ArrowHelper };","map":{"version":3,"sources":["/Users/sebringrose/Projects/theEmpire/website/client/node_modules/three/src/helpers/ArrowHelper.js"],"names":["Float32BufferAttribute","BufferGeometry","Object3D","CylinderBufferGeometry","MeshBasicMaterial","LineBasicMaterial","Mesh","Line","Vector3","_axis","_lineGeometry","_coneGeometry","ArrowHelper","constructor","dir","origin","length","color","headLength","headWidth","type","undefined","setAttribute","translate","position","copy","line","toneMapped","matrixAutoUpdate","add","cone","setDirection","setLength","y","quaternion","set","z","x","normalize","radians","Math","acos","setFromAxisAngle","scale","max","updateMatrix","setColor","material","source"],"mappings":"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","sourcesContent":["import { Float32BufferAttribute } from '../core/BufferAttribute.js';\nimport { BufferGeometry } from '../core/BufferGeometry.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { CylinderBufferGeometry } from '../geometries/CylinderBufferGeometry.js';\nimport { MeshBasicMaterial } from '../materials/MeshBasicMaterial.js';\nimport { LineBasicMaterial } from '../materials/LineBasicMaterial.js';\nimport { Mesh } from '../objects/Mesh.js';\nimport { Line } from '../objects/Line.js';\nimport { Vector3 } from '../math/Vector3.js';\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n\tconstructor( dir, origin, length, color, headLength, headWidth ) {\n\n\t\tsuper();\n\t\t// dir is assumed to be normalized\n\n\t\tthis.type = 'ArrowHelper';\n\n\t\tif ( dir === undefined ) dir = new Vector3( 0, 0, 1 );\n\t\tif ( origin === undefined ) origin = new Vector3( 0, 0, 0 );\n\t\tif ( length === undefined ) length = 1;\n\t\tif ( color === undefined ) color = 0xffff00;\n\t\tif ( headLength === undefined ) headLength = 0.2 * length;\n\t\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\t\tif ( _lineGeometry === undefined ) {\n\n\t\t\t_lineGeometry = new BufferGeometry();\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t\t_coneGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t\t}\n\n\t\tthis.position.copy( origin );\n\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.line.matrixAutoUpdate = false;\n\t\tthis.add( this.line );\n\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.cone.matrixAutoUpdate = false;\n\t\tthis.add( this.cone );\n\n\t\tthis.setDirection( dir );\n\t\tthis.setLength( length, headLength, headWidth );\n\n\t}\n\n\tsetDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tconst radians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t\t}\n\n\t}\n\n\tsetLength( length, headLength, headWidth ) {\n\n\t\tif ( headLength === undefined ) headLength = 0.2 * length;\n\t\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\t\tthis.line.updateMatrix();\n\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\n\t}\n\n\tsetColor( color ) {\n\n\t\tthis.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tthis.line.copy( source.line );\n\t\tthis.cone.copy( source.cone );\n\n\t\treturn this;\n\n\t}\n\n}\n\n\nexport { ArrowHelper };\n"]},"metadata":{},"sourceType":"module"}